{% extends 'base.html' %}

{% block title %}InstaStore - ูพุฏุง ฺฉุฑุฏู ูุฑูุดฺฏุงู ุงูุณุชุงฺฏุฑุงู{% endblock %}

{% block content %}
<div class="text-center mb-5">
    <h1 class="display-4 mb-3">๐๏ธ ูุฑูุดฺฏุงู ุงุฎุชุตุงุต ูพุฌ ุงูุณุชุงฺฏุฑุงู ุดูุง</h1>
    <p class="lead text-muted">ููฺฉ ูุฑูุดฺฏุงู ุฎูุฏ ุฑุง ุฏุฑุงูุช ฺฉูุฏ ู ูุณุชูู ุงุฒ ุงูุณุชุงฺฏุฑุงู ุจูุฑูุดุฏ</p>
    
    <!-- ุฌุณุชุฌู ูุฑูุดฺฏุงู -->
    <div class="row justify-content-center mt-4">
        <div class="col-md-6">
            <div class="input-group">
                <input type="text" 
                       class="form-control" 
                       placeholder="ูุงู ฺฉุงุฑุจุฑ ุงูุณุชุงฺฏุฑุงู (ูุซุงู: @jadeh_poshak)"
                       id="shop-search">
                <button class="btn btn-primary" onclick="searchShop()">
                    <i class="bi bi-search"></i> ูพุฏุง ฺฉู
                </button>
            </div>
            <div class="mt-2 text-muted small">
                ุง ููฺฉ ูุณุชูู ูุฑูุดฺฏุงู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ
            </div>
        </div>
    </div>
</div>

<!-- ูุฑูุดฺฏุงูโูุง ูพุฑุทุฑูุฏุงุฑ -->
<h3 class="mb-4">โจ ูุฑูุดฺฏุงูโูุง ูุนุงู</h3>
<div class="row" id="featured-shops">
    {% for shop in featured_shops %}
    <div class="col-md-4 col-lg-3 mb-4">
        <div class="card shop-card h-100 text-center">
            <div class="card-body">
                <div class="mb-3">
                    <i class="bi bi-shop-window fs-1 text-primary"></i>
                </div>
                <h5 class="card-title">{{ shop.shop_name }}</h5>
                <p class="card-text text-muted small">{{ shop.instagram_username }}</p>
                <a href="/shop/{{ shop.slug }}/" 
                   class="btn btn-outline-primary btn-sm">
                   ูุดุงูุฏู ูุฑูุดฺฏุงู
                </a>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-12 text-center py-5">
        <p class="text-muted">ูููุฒ ูุฑูุดฺฏุงู ุซุจุช ูุดุฏู ุงุณุช.</p>
        <a href="/register/" class="btn btn-primary">ุงููู ูุฑูุดฺฏุงู ุจุงุดุฏ</a>
    </div>
    {% endfor %}
</div>

<!-- ุงุทูุงุนุงุช ุจุฑุง ุตุงุญุจุงู ูพุฌ -->
<div class="row mt-5">
    <div class="col-md-6">
        <div class="card border-success">
            <div class="card-body">
                <h5 class="card-title text-success">
                    <i class="bi bi-instagram"></i> ุจุฑุง ุตุงุญุจุงู ูพุฌ
                </h5>
                <ul class="list-unstyled">
                    <li class="mb-2"><i class="bi bi-check-circle text-success"></i> ุฑุงฺฏุงู ุซุจุชโูุงู ฺฉูุฏ</li>
                    <li class="mb-2"><i class="bi bi-check-circle text-success"></i> ููฺฉ ุงุฎุชุตุงุต ุฏุฑุงูุช ฺฉูุฏ</li>
                    <li class="mb-2"><i class="bi bi-check-circle text-success"></i> ุฏุฑ ุจู ุงูุณุชุงฺฏุฑุงู ูุฑุงุฑ ุฏูุฏ</li>
                    <li class="mb-2"><i class="bi bi-check-circle text-success"></i> ุดุฑูุน ุจู ูุฑูุด ฺฉูุฏ</li>
                </ul>
                <a href="/register/" class="btn btn-success">ุซุจุชโูุงู ุฑุงฺฏุงู</a>
            </div>
        </div>
    </div>
    
    <div class="col-md-6">
        <div class="card border-primary">
            <div class="card-body">
                <h5 class="card-title text-primary">
                    <i class="bi bi-cart-check"></i> ุจุฑุง ูุดุชุฑุงู
                </h5>
                <ul class="list-unstyled">
                    <li class="mb-2"><i class="bi bi-check-circle text-primary"></i> ุงุฒ ูพุฌ ุงูุณุชุงฺฏุฑุงู ูุงุฑุฏ ุดูุฏ</li>
                    <li class="mb-2"><i class="bi bi-check-circle text-primary"></i> ูุญุตููุงุช ุฑุง ุจุจูุฏ</li>
                    <li class="mb-2"><i class="bi bi-check-circle text-primary"></i> ุจุง ฺูุฏ ฺฉูฺฉ ุฎุฑุฏ ฺฉูุฏ</li>
                    <li class="mb-2"><i class="bi bi-check-circle text-primary"></i> ูพฺฏุฑ ุณูุงุฑุด</li>
                </ul>
                <p class="text-muted small">ููฺฉ ูุฑูุดฺฏุงู ุฑุง ุงุฒ ูพุฌ ุงูุณุชุงฺฏุฑุงู ููุฑุฏ ูุธุฑ ุฏุฑุงูุช ฺฉูุฏ</p>
            </div>
        </div>
    </div>
</div>

<script>
function searchShop() {
    const username = document.getElementById('shop-search').value.trim();
    if (username) {
        // ุญุฐู @ ุงุฒ ุงุจุชุฏุง ุงฺฏุฑ ูุฌูุฏ ุฏุงุฑุฏ
        const cleanUsername = username.replace('@', '');
        // ูุฏุงุช ุจู ุตูุญู ูุฑูุดฺฏุงู
        window.location.href = `/shop/${cleanUsername}/`;
    }
}
</script>
{% endblock %}